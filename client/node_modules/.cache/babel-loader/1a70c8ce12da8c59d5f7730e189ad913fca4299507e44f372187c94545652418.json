{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Documenti/GitHub/meteoitalia/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/user/Documenti/GitHub/meteoitalia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/user/Documenti/GitHub/meteoitalia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Box,Grid,IconButton,TextField,Typography}from\"@mui/material\";import SearchIcon from'@mui/icons-material/Search';import Cities from\"./Cities\";import Weather from\"./Weather\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedItem=_useState6[0],setSelectedItem=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),weatherData=_useState8[0],setWeatherData=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!searchQuery){_context.next=8;break;}_context.next=4;return axios.get(\"http://localhost:3001/api/geocoder?q=\".concat(searchQuery));case 4:result=_context.sent;setData(result.data.results);setSelectedItem(null);setWeatherData(null);case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){if(searchQuery.length>=3){fetchData();}},[searchQuery]);var handleInputChange=function handleInputChange(e){setSearchQuery(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();fetchData();};var handleItemClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(lat,lon){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://localhost:3001/api/meteo?lat=\".concat(lat,\"&lon=\").concat(lon));case 3:result=_context2.sent;setWeatherData(result.data);setSelectedItem({lat:lat,lon:lon});setData([]);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function handleItemClick(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:\"100vh\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",background:\"linear-gradient(to bottom right, #247def, #78e7fe)\",padding:\"1rem\"},children:[/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none',color:'black'},href:\"/\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",sx:{textAlign:\"center\"},children:\"Meteo Italia \\uD83C\\uDDEE\\uD83C\\uDDF9\"})}),/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:handleSubmit,sx:{marginTop:\"1rem\"},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:6,children:/*#__PURE__*/_jsx(TextField,{type:\"text\",value:searchQuery,onChange:handleInputChange,placeholder:\"Inserisci citt\\xE0\",variant:\"outlined\",fullWidth:true,sx:{marginRight:\"0.5rem\",\"& .MuiOutlinedInput-root\":{paddingRight:\"0\"}},InputProps:{endAdornment:/*#__PURE__*/_jsx(IconButton,{type:\"submit\",sx:{p:0,paddingRight:\"20px\"},children:/*#__PURE__*/_jsx(SearchIcon,{})})}})})})}),data.length>0&&/*#__PURE__*/_jsx(Cities,{data:data,onItemClick:handleItemClick}),selectedItem&&/*#__PURE__*/_jsx(Weather,{lat:selectedItem.lat,lon:selectedItem.lon,data:weatherData})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","Box","Grid","IconButton","TextField","Typography","SearchIcon","Cities","Weather","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","data","setData","_useState5","_useState6","selectedItem","setSelectedItem","_useState7","_useState8","weatherData","setWeatherData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","get","concat","sent","results","t0","console","error","stop","apply","arguments","length","handleInputChange","e","target","value","handleSubmit","preventDefault","handleItemClick","_ref2","_callee2","lat","lon","_callee2$","_context2","_x","_x2","sx","minHeight","flexDirection","justifyContent","alignItems","background","padding","children","style","textDecoration","color","href","variant","textAlign","component","onSubmit","marginTop","container","spacing","item","xs","sm","md","type","onChange","placeholder","fullWidth","marginRight","paddingRight","InputProps","endAdornment","p","onItemClick"],"sources":["/home/user/Documenti/GitHub/meteoitalia/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Box, Grid, IconButton, TextField, Typography } from \"@mui/material\";\nimport SearchIcon from '@mui/icons-material/Search';\nimport Cities from \"./Cities\";\nimport Weather from \"./Weather\";\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [weatherData, setWeatherData] = useState(null);\n\n  const fetchData = async () => {\n    try {\n      if(searchQuery)\n      {const result = await axios.get(`http://localhost:3001/api/geocoder?q=${searchQuery}`);\n      setData(result.data.results);\n      setSelectedItem(null);\n      setWeatherData(null);}\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    if (searchQuery.length >= 3) {\n      fetchData();\n    }\n  }, [searchQuery]);\n\n  const handleInputChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  const handleItemClick = async (lat, lon) => {\n    try {\n      const result = await axios.get(`http://localhost:3001/api/meteo?lat=${lat}&lon=${lon}`);\n      setWeatherData(result.data);\n      setSelectedItem({ lat, lon });\n      setData([]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Box sx={{\n      minHeight: \"100vh\",\n      \n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      background: \"linear-gradient(to bottom right, #247def, #78e7fe)\",\n      padding: \"1rem\",\n    }}>\n      <a style={{textDecoration: 'none',color: 'black'}} href=\"/\"><Typography variant=\"h3\" sx={{ textAlign: \"center\" }}>Meteo Italia ðŸ‡®ðŸ‡¹</Typography></a>\n      <Box component=\"form\" onSubmit={handleSubmit} sx={{ marginTop: \"1rem\" }}>\n        <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n          <Grid item xs={12} sm={8} md={6}>\n            <TextField\n              type=\"text\"\n              value={searchQuery}\n              onChange={handleInputChange}\n              placeholder=\"Inserisci cittÃ \"\n              variant=\"outlined\"\n              fullWidth\n              sx={{ marginRight: \"0.5rem\", \"& .MuiOutlinedInput-root\": { paddingRight: \"0\" } }}\n              InputProps={{\n                endAdornment: (\n                  <IconButton type=\"submit\" sx={{ p: 0, paddingRight: \"20px\" }}>\n                    <SearchIcon/>\n                  </IconButton>\n                ),\n              }}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n\n      {data.length > 0 && (\n        <Cities data={data} onItemClick={handleItemClick} />\n      )}\n\n      {selectedItem && (\n        <Weather lat={selectedItem.lat} lon={selectedItem.lon} data={weatherData} />\n      )}\n    </Box>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}